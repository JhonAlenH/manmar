<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
    <div class="container-fluid">
      <div class="header-body">
        <!-- Card stats -->
        <div class="row">

        </div>
      </div>
    </div>
  </div>
  <!-- Page content -->
  <div class="container-fluid mt--7">
    <!-- Table -->
    <div class="row">
      <div class="col">
        <div class="card shadow hola">
          <div class="card-body">
            <form [formGroup]="emissionsFormGroup" style="position: relative; z-index: 1000;">
              <div class="container row">
               
                  <hr class="black-hr">
                  <h1 class="mt-3" style="font-family: system-ui;">Datos Técnicos</h1>
                  <hr class="black-hr">
                
              </div>
                
              <div class="row justify-content-center mt-5">
                <div class="col-md-3">
                  <mat-form-field class="example-full-width">
                    <mat-label>Cedentes</mat-label>
                    <input type="text"
                           placeholder="Seleccione Cedentes"
                           aria-label="Seleccione"
                           matInput
                           [formControl]="cedentsControl"
                           [matAutocomplete]="cedents"
                           formControlName="xcedente"
                           required>
                           <mat-autocomplete #cedents="matAutocomplete">
                            <mat-option *ngFor="let cedents of filteredCedents | async" [value]="cedents">
                              {{ cedents }}
                            </mat-option>
                          </mat-autocomplete>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field class="example-full-width">
                    <mat-label>Ramo</mat-label>
                    <input type="text"
                           placeholder="Seleccione Ramo"
                           aria-label="Seleccione"
                           matInput
                           [formControl]="tradeControl"
                           [matAutocomplete]="trade"
                           required>
                           <mat-autocomplete #trade="matAutocomplete" (optionSelected)="onTradeSelection($event)">
                            <mat-option *ngFor="let trade of filteredTrade | async" [value]="trade">
                              {{ trade }}
                            </mat-option>
                          </mat-autocomplete>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field class="example-full-width">
                    <mat-label>Moneda</mat-label>
                    <input type="text"
                           placeholder="Seleccione Moneda"
                           aria-label="Seleccione"
                           matInput
                           [formControl]="coinsControl"
                           [matAutocomplete]="coins"
                           formControlName="xmoneda"
                           required>
                    <mat-autocomplete #coins="matAutocomplete">
                      <mat-option *ngFor="let coin of filteredCoins | async" [value]="coin">
                        {{ coin }} <!-- Mostrar el valor de la moneda -->
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                </div>
              </div>

              <div class="row justify-content-center py-2">
                <div class="col-md-3">
                  <mat-form-field class="example-full-width">
                    <mat-label>Fecha Desde</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="fdesde" (dateChange)="calcularFechaHasta($event)">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field class="example-full-width">
                    <mat-label>Fecha Hasta</mat-label>
                    <input matInput [matDatepicker]="fhastaP" formControlName="fhasta">
                    <mat-datepicker-toggle matSuffix [for]="fhastaP"></mat-datepicker-toggle>
                    <mat-datepicker #fhastaP></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>
              <div class="row justify-content-center py-3">
                <div class="col-md-6 mx-auto">
                  
                    <p class="text-center">
                      <strong>Datos del Asegurado</strong>
                    </p>
                  
                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>Clientes</mat-label>
                        <input type="text"
                              placeholder="Seleccione Clientes"
                              aria-label="Seleccione"
                              matInput
                              [formControl]="clientsControl"
                              [matAutocomplete]="clients"
                              required>
                              <mat-autocomplete #clients="matAutocomplete" (optionSelected)="onClientSelection($event)">
                                <mat-option *ngFor="let clients of filteredClients | async" [value]="clients">
                                  {{ clients }}
                                </mat-option>
                              </mat-autocomplete>
                      </mat-form-field>
                    </div>
                 
                    <div class="col-md-4">
                      <mat-form-field>
                        <mat-label>Identificación</mat-label>
                        <mat-select formControlName="itipodoc">
                          <mat-option value="V">V</mat-option>
                          <mat-option value="P">P</mat-option>
                          <mat-option value="E">E</mat-option>
                          <mat-option value="J">J</mat-option>
                          <mat-option value="C">C</mat-option>
                          <mat-option value="G">G</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-8">
                      <mat-form-field class="example-full-width">
                        <mat-label>Documento de Identidad</mat-label>
                        <input matInput placeholder="Documento de Identidad" formControlName="xdoc_identificacion">
                      </mat-form-field>
                    </div>
                  </div>  

                </div>
                <div class="col-md-6">
                  <p class="text-center">
                    <strong>Datos del Tomador</strong>
                  </p>

                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>Tomadores</mat-label>
                        <input type="text"
                              placeholder="Seleccione Tomadores"
                              aria-label="Seleccione"
                              matInput
                              [formControl]="takersControl"
                              [matAutocomplete]="takers"
                              formControlName="xtomador"
                              required>
                              <mat-autocomplete #takers="matAutocomplete" (optionSelected)="onTakersSelection($event)">
                                <mat-option *ngFor="let takers of filteredTakers | async" [value]="takers">
                                  {{ takers }}
                                </mat-option>
                              </mat-autocomplete>
                      </mat-form-field>
                    </div>
                 
                    <div class="col-md-4">
                      <mat-form-field>
                        <mat-label>Identificación</mat-label>
                        <mat-select formControlName="itipodoc_t">
                          <mat-option value="V">V</mat-option>
                          <mat-option value="P">P</mat-option>
                          <mat-option value="E">E</mat-option>
                          <mat-option value="J">J</mat-option>
                          <mat-option value="C">C</mat-option>
                          <mat-option value="G">G</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-8">
                      <mat-form-field class="example-full-width">
                        <mat-label>Documento de Identidad</mat-label>
                        <input matInput placeholder="Documento de Identidad" formControlName="xdoc_identificacion_t">
                      </mat-form-field>
                    </div>
                  </div>  
                </div>
              </div>

              <div class="col-md-6 mx-auto py-3">
                <mat-form-field class="example-full-width">
                  <mat-label>Póliza</mat-label>
                  <input matInput placeholder="Coloque el número de Póliza" formControlName="xpoliza">
                </mat-form-field>
              </div>

              <div class="row justify-content-center py-3">
                <div class="col-md-4 mx-auto">
                  <mat-form-field class="example-full-width">
                    <mat-label>Suma Asegurada</mat-label>
                    <input matInput placeholder="Coloque Suma Asegurada" formControlName="msuma_aseg" type="text" (input)="formatWithSeparator($event)">
                  </mat-form-field>
                </div>
                <div class="col-md-4 mx-auto">
                  <mat-form-field class="example-full-width">
                    <mat-label>Prima</mat-label>
                    <input matInput placeholder="Coloque Prima" formControlName="mprima" type="text" (input)="formatWithSeparator($event)">
                  </mat-form-field>
                </div>
              </div>

              <div *ngIf="containerAuto">
                <app-container-automobile ></app-container-automobile>
              </div>
              
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  